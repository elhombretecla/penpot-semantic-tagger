{"version":3,"file":"delay.js","sources":["../../src/middleware/delay.ts"],"sourcesContent":["import { type Connect } from 'vite';\n\ninterface Options {\n  readonly getPromise: () => Promise<void>;\n}\n\n/**\n * Middleware that delays the response until a promise resolves.\n */\nexport default ({ getPromise }: Options): Connect.NextHandleFunction => {\n  return (req, res, next) => {\n    void getPromise().finally(() => next());\n  };\n};\n"],"names":[],"mappings":"AASA,wBAAe,CAAC,EAAE,UAAA,EAAsD,KAAA;AACtE,EAAO,OAAA,CAAC,GAAK,EAAA,GAAA,EAAK,IAAS,KAAA;AACzB,IAAA,KAAK,UAAW,EAAA,CAAE,OAAQ,CAAA,MAAM,MAAM,CAAA,CAAA;AAAA,GACxC,CAAA;AACF,CAAA;;;;"}