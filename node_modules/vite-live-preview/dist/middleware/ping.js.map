{"version":3,"file":"ping.js","sources":["../../src/middleware/ping.ts"],"sourcesContent":["import { type Connect } from 'vite';\n\nimport { createDebugger } from '../util/create-debugger.js';\n\nconst PING_ACCEPT_HEADER = 'text/x-vite-ping';\n\n/**\n * Middleware that responds to a ping requests.\n */\nexport default (): Connect.NextHandleFunction => {\n  const debug = createDebugger('live-preview');\n\n  return (req, res, next) => {\n    if (req.headers.accept !== PING_ACCEPT_HEADER) return next();\n\n    res.statusCode = 204;\n    res.end();\n    debug?.('ping received.');\n  };\n};\n"],"names":[],"mappings":";;AAIA,MAAM,kBAAqB,GAAA,kBAAA,CAAA;AAK3B,uBAAe,MAAkC;AAC/C,EAAM,MAAA,KAAA,GAAQ,eAAe,cAAc,CAAA,CAAA;AAE3C,EAAO,OAAA,CAAC,GAAK,EAAA,GAAA,EAAK,IAAS,KAAA;AACzB,IAAI,IAAA,GAAA,CAAI,QAAQ,MAAW,KAAA,kBAAA;AAAoB,MAAA,OAAO,IAAK,EAAA,CAAA;AAE3D,IAAA,GAAA,CAAI,UAAa,GAAA,GAAA,CAAA;AACjB,IAAA,GAAA,CAAI,GAAI,EAAA,CAAA;AACR,IAAA,KAAA,GAAQ,gBAAgB,CAAA,CAAA;AAAA,GAC1B,CAAA;AACF,CAAA;;;;"}